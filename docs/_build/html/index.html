
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Welcome to Flood Warning System’s documentation! &#8212; Flood Warning System 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-floodsystem.analysis">
<span id="welcome-to-flood-warning-system-s-documentation"></span><h1>Welcome to Flood Warning System’s documentation!<a class="headerlink" href="#module-floodsystem.analysis" title="Permalink to this headline">¶</a></h1>
<p>Created on Wed Feb 12 11:49:59 2020</p>
<p>&#64;author: atylb2</p>
<dl class="function">
<dt id="floodsystem.analysis.polyfit">
<code class="sig-prename descclassname">floodsystem.analysis.</code><code class="sig-name descname">polyfit</code><span class="sig-paren">(</span><em class="sig-param">dates</em>, <em class="sig-param">levels</em>, <em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.analysis.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates polynomial of order p that fits the level data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dates</strong> – (list of DateTime objects).
list of dates with datapoints</p></li>
<li><p><strong>levels</strong> – (list of floats).
list of levels corresponding to each point in dates</p></li>
<li><p><strong>p</strong> – (int).
order of polynomial to fit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(np.poly1d object).</dt><dd><p>polynomial object that fits level data</p>
</dd>
<dt>d0: (DateTime object).</dt><dd><p>offset used to normalize dates to start at 0, equal to the first
date in dates</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>poly</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-floodsystem.datafetcher"></span><p>This module provides functionality for retrieving real-time and
latest time history level data</p>
<dl class="function">
<dt id="floodsystem.datafetcher.dump">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Save JSON object to file</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch data from url and return fetched JSON object</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_flood_warnings">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_flood_warnings</code><span class="sig-paren">(</span><em class="sig-param">severity_level</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_flood_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the flood warnings issued from the API</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_latest_water_level_data">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_latest_water_level_data</code><span class="sig-paren">(</span><em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_latest_water_level_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch latest levels from all ‘measures’. Returns JSON object</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_measure_levels">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_measure_levels</code><span class="sig-paren">(</span><em class="sig-param">measure_id</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_measure_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch measure levels from latest reading and going back a period
dt. Return list of dates and a list of values.</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_station_data">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_station_data</code><span class="sig-paren">(</span><em class="sig-param">use_cache=True</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_station_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch data from Environment agency for all active river level
monitoring stations via a REST API and return retrieved data as a
JSON object.</p>
<p>Fetched data is dumped to a cache file so on subsequent call it can
optionally be retrieved from the cache file. This is faster than
retrieval over the Internet and avoids excessive calls to the
Environment Agency service.</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_stations_by_type">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_stations_by_type</code><span class="sig-paren">(</span><em class="sig-param">type</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_stations_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the stations of other types issued from the
put type = Groundwater for groundwater stations</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_test_station_data">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_test_station_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_test_station_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data from a test json file which is not updated and
therefore can be used to check functions against known results</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>json_object.</dt><dd><p>A json object containing data from station_data_test.json</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>data</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_warning_area">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_warning_area</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_warning_area" title="Permalink to this definition">¶</a></dt>
<dd><p>“fetches information on the area of a warning</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.fetch_warning_region">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">fetch_warning_region</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.fetch_warning_region" title="Permalink to this definition">¶</a></dt>
<dd><p>“fetches a geoJSON polygon for area over which a warning is active</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.datafetcher.load">
<code class="sig-prename descclassname">floodsystem.datafetcher.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.datafetcher.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load JSON object from file</p>
</dd></dl>

<span class="target" id="module-floodsystem.flood"></span><dl class="function">
<dt id="floodsystem.flood.stations_highest_rel_level">
<code class="sig-prename descclassname">floodsystem.flood.</code><code class="sig-name descname">stations_highest_rel_level</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">N</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.flood.stations_highest_rel_level" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns the N stations with the highest relative water levels,</dt><dd><p>in descending order. Only N values are returned regarless of any</p>
</dd>
</dl>
<p>tie conditions. Fewer than N may be returned if len(stations) &lt; N</p>
<blockquote>
<div><dl class="simple">
<dt>Arguments:</dt><dd><dl class="simple">
<dt>stations: (list of MonitoringStation).</dt><dd><p>generated using build_station_list.</p>
</dd>
<dt>N: int.</dt><dd><p>Number of stations to returns</p>
</dd>
</dl>
</dd>
</dl>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>[MonitoringStation].</dt><dd><p>List of MonitoringStation objects with the highest
relative water levels</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[stations_with_highest_levels]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.flood.stations_level_over_threshold">
<code class="sig-prename descclassname">floodsystem.flood.</code><code class="sig-name descname">stations_level_over_threshold</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">tol</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.flood.stations_level_over_threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the stations whose relative water level exceeds
the value of tol and the relative water levels of these stations.
The stations are listed in order of decreasing relative water level</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p></li>
<li><p><strong>tol</strong> – float.
All stations with relative water levels above tol are returned</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>[(MonitoringStation, float)].</dt><dd><p>A list of tuples containing the MonitoringStation object
and its relative water level</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[(station, rel_water_level)]</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-floodsystem.geo"></span><p>This module contains a collection of functions related to
geographical data.</p>
<dl class="function">
<dt id="floodsystem.geo.rivers_by_station_number">
<code class="sig-prename descclassname">floodsystem.geo.</code><code class="sig-name descname">rivers_by_station_number</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">N</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.geo.rivers_by_station_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the N rivers with the greatest number of stations. the rivers are
returned in order of decreasing number of stations. If there is a tie between
multiple rivers at the Nth entry, all rivers with equal number of stations
are returned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p></li>
<li><p><strong>N</strong> – (int).
The number of rivers to return, in descending order of number of
stations</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(string, int).</dt><dd><p>list of tuples containing the river names and number of stations
of rivers with the N highest number of monitoring stations</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(river_name, number_of_stations)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.geo.rivers_with_stations">
<code class="sig-prename descclassname">floodsystem.geo.</code><code class="sig-name descname">rivers_with_stations</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.geo.rivers_with_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a set containing names of rivers with an associated monitoring station</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>{string}.</dt><dd><p>A set containing the names of all the rivers with a monitoring station</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>{river_name}</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.geo.stations_by_distance">
<code class="sig-prename descclassname">floodsystem.geo.</code><code class="sig-name descname">stations_by_distance</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.geo.stations_by_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate distances from a coordinate p to each station. Return the station
distance pairs in an ordered list, by distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p></li>
<li><p><strong>p</strong> – (lat, lon).
float coordinates of the center.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>(MonitoringStation, float).</dt><dd><p>pair of station object and the corresponding distance from it to point p</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(station, distance)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.geo.stations_by_river">
<code class="sig-prename descclassname">floodsystem.geo.</code><code class="sig-name descname">stations_by_river</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.geo.stations_by_river" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps stations to the rivers which they are associated with. Return a dict
containing MonitoringStations with key values for each river</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>[MonitoringStations]}: {string<span class="classifier">[MonitoringStation]}.</span></dt><dd><p>dict containing lists of MonitoringStations for each river. The dict
keys are the river names</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>{river_name</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.geo.stations_within_radius">
<code class="sig-prename descclassname">floodsystem.geo.</code><code class="sig-name descname">stations_within_radius</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">centre</em>, <em class="sig-param">r</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.geo.stations_within_radius" title="Permalink to this definition">¶</a></dt>
<dd><p>Return station/distance pair that are within radius r of center.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stations</strong> – (list of MonitoringStation).
generated using build_station_list.</p></li>
<li><p><strong>centre</strong> – (lat, lon) (float, float).
float coordinates of the center.</p></li>
<li><p><strong>r</strong> (<em>float</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>([MonitoringStation]).</dt><dd><p>list of station objects</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of station</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-floodsystem.plot"></span><dl class="function">
<dt id="floodsystem.plot.create_water_levels_plot">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">create_water_levels_plot</code><span class="sig-paren">(</span><em class="sig-param">listinput</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.create_water_levels_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the water levels of stations given corresponding date. Subplots are
created for each station.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listinput</strong> (<em>list</em>) – list of station (MonitoringStation), dates (list), and
levels (list), in this order. List must be of length multiple of 3.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>plotly figure with water levels, high, and low plotted</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>fig (plotly go.figure)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.plot.get_recommended_simplification_params">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">get_recommended_simplification_params</code><span class="sig-paren">(</span><em class="sig-param">warning_len</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.get_recommended_simplification_params" title="Permalink to this definition">¶</a></dt>
<dd><p>“Returns the recommended geometry simplification tolerance and buffer, based
on the number of warnings present. These settings are designed to prevent the map
interface from lagging if many warnings are present</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>warning_len</strong> – int.
The number of warnings in the warning list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>{‘tol’: float, ‘buf’: float}.</dt><dd><p>Parameters which determine the degree of shape approximation
recommended for mapping</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>simplification params</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.plot.map_flood_warnings">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">map_flood_warnings</code><span class="sig-paren">(</span><em class="sig-param">geojson</em>, <em class="sig-param">df</em>, <em class="sig-param">df2</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.map_flood_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>“Plots flood warnings as a chloropleth map figure
:param geojson: geo_json_object.</p>
<blockquote>
<div><p>Contains the perimeter definitions for all warnings. Created from
warningdata.build_regions_geojson</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> – Pandas Dataframe.
Contains information regarding the severity of the floods and the location name.
Created using warningdata.build_severity_dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.plot.map_flood_warnings_interactive">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">map_flood_warnings_interactive</code><span class="sig-paren">(</span><em class="sig-param">geojson</em>, <em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.map_flood_warnings_interactive" title="Permalink to this definition">¶</a></dt>
<dd><p>“Plots flood warnings as a chloropleth map figure, with support for
interactive actions, such as click events
:param geojson: geo_json_object.</p>
<blockquote>
<div><p>Contains the perimeter definitions for all warnings. Created from
warningdata.build_regions_geojson</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>df</strong> – Pandas Dataframe.
Contains information regarding the severity of the floods and the location name.
Created using warningdata.build_severity_dataframe</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.plot.plot_water_levels">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">plot_water_levels</code><span class="sig-paren">(</span><em class="sig-param">listinput</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.plot_water_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Display plot generated in create_water_levels_plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>listinput</strong> – (list) list of station (MonitoringStation), dates (list), and
levels (list), in this order. List must be of length multiple of 3.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.plot.plot_water_levels_with_fit">
<code class="sig-prename descclassname">floodsystem.plot.</code><code class="sig-name descname">plot_water_levels_with_fit</code><span class="sig-paren">(</span><em class="sig-param">listinput</em>, <em class="sig-param">p</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.plot.plot_water_levels_with_fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Add best-fit line to water level graphs, and display them</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>listinput</strong> (<em>list</em>) – list of station (MonitoringStation), dates (list), and
levels (list), in this order. List must be of length multiple of 3.</p></li>
<li><p><strong>p</strong> (<em>integer</em>) – order of polynomial fit</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>none; creates temp-plot.html file and auto-opens it.</p>
</dd>
</dl>
</dd></dl>

<span class="target" id="module-floodsystem.station"></span><p>This module provides a model for a monitoring station, and tools
for manipulating/modifying station data</p>
<dl class="class">
<dt id="floodsystem.station.MonitoringStation">
<em class="property">class </em><code class="sig-prename descclassname">floodsystem.station.</code><code class="sig-name descname">MonitoringStation</code><span class="sig-paren">(</span><em class="sig-param">station_id</em>, <em class="sig-param">measure_id</em>, <em class="sig-param">label</em>, <em class="sig-param">coord</em>, <em class="sig-param">typical_range</em>, <em class="sig-param">river</em>, <em class="sig-param">town</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.station.MonitoringStation" title="Permalink to this definition">¶</a></dt>
<dd><p>This class represents a river level monitoring station</p>
<dl class="method">
<dt id="floodsystem.station.MonitoringStation.get_relative_water_level">
<em class="property">static </em><code class="sig-name descname">get_relative_water_level</code><span class="sig-paren">(</span><em class="sig-param">station</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.station.MonitoringStation.get_relative_water_level" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the relative water level of a given station
Useful to pass directly to sorted() as a key</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>station</strong> – MonitoringStation.
The monitoring station object</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>float.</dt><dd><p>the relative water level of the station</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>relative_water_level</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.station.MonitoringStation.inconsistent_typical_range_stations">
<em class="property">static </em><code class="sig-name descname">inconsistent_typical_range_stations</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.station.MonitoringStation.inconsistent_typical_range_stations" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the stations with inconsistent typical ranges given a list
of stations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – (MonitoringStation list)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the monitoring stations with inconsistent typical ranges</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of Monitoring Stations</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.station.MonitoringStation.relative_water_level">
<code class="sig-name descname">relative_water_level</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.station.MonitoringStation.relative_water_level" title="Permalink to this definition">¶</a></dt>
<dd><p>“Returns the water level as a proportion of the typical range
This returns 0.0 when the water level is equal to the lower typical range
and 1.0 when the water level is equal to the upper typical range</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>float.</dt><dd><p>the relative water level compared to the typical range.
If the typical range is not consistent, None is returned</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>relative_water_level</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.station.MonitoringStation.typical_range_consistent">
<code class="sig-name descname">typical_range_consistent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.station.MonitoringStation.typical_range_consistent" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the typical range is inconsistent, i.e. lowest value
is greater than largest value.</p>
<p>Arguments:</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>if typical range is consistent</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-floodsystem.stationdata"></span><p>This module provides interface for extracting station data from
JSON objects fetched from the Internet and</p>
<dl class="function">
<dt id="floodsystem.stationdata.build_station_dataframe">
<code class="sig-prename descclassname">floodsystem.stationdata.</code><code class="sig-name descname">build_station_dataframe</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.stationdata.build_station_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a pandas Datafraome containing data for all the monitoring stations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – list of MonitoringStation
generated using build_station_list.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>pandas DataFrame</dt><dd><p>the output dataframe</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>df</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.stationdata.build_station_list">
<code class="sig-prename descclassname">floodsystem.stationdata.</code><code class="sig-name descname">build_station_list</code><span class="sig-paren">(</span><em class="sig-param">use_cache=True</em>, <em class="sig-param">test=False</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.stationdata.build_station_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Build and return a list of all river level monitoring stations
based on data fetched from the Environment agency. Each station is
represented as a MonitoringStation object.</p>
<p>The available data for some station is incomplete or not
available.</p>
<p>If the flag test is set to true then fixed test data is used so
results may be compared to known values for the data</p>
</dd></dl>

<dl class="function">
<dt id="floodsystem.stationdata.update_water_levels">
<code class="sig-prename descclassname">floodsystem.stationdata.</code><code class="sig-name descname">update_water_levels</code><span class="sig-paren">(</span><em class="sig-param">stations</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.stationdata.update_water_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach level data contained in measure_data to stations</p>
</dd></dl>

<span class="target" id="module-floodsystem.utils"></span><p>This module contains utility functions.</p>
<dl class="function">
<dt id="floodsystem.utils.map">
<code class="sig-prename descclassname">floodsystem.utils.</code><code class="sig-name descname">map</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">in_range</em>, <em class="sig-param">out_range</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.utils.map" title="Permalink to this definition">¶</a></dt>
<dd><p>Linearly maps a value of x from a range (in_min, in_max)
to a range (out_min, out_max). Note that the value is
not constrained to the output range, nor does x need to be
constrained to the input range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – float.
the input value</p></li>
<li><p><strong>in_range</strong> – (float, float).
tuple of the input range</p></li>
<li><p><strong>out_range</strong> – (float, float).
tuple of output range</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>float.</dt><dd><p>the mapped value</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>out_val</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.utils.sorted_by_key">
<code class="sig-prename descclassname">floodsystem.utils.</code><code class="sig-name descname">sorted_by_key</code><span class="sig-paren">(</span><em class="sig-param">x</em>, <em class="sig-param">i</em>, <em class="sig-param">reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.utils.sorted_by_key" title="Permalink to this definition">¶</a></dt>
<dd><p>For a list of lists/tuples, return list sorted by the ith
component of the list/tuple, E.g.</p>
<p>Sort on first entry of tuple:</p>
<blockquote>
<div><p>&gt; sorted_by_key([(1, 2), (5, 1]), 0)
&gt;&gt;&gt; [(1, 2), (5, 1)]</p>
</div></blockquote>
<p>Sort on second entry of tuple:</p>
<blockquote>
<div><p>&gt; sorted_by_key([(1, 2), (5, 1)], 1)
&gt;&gt;&gt; [(5, 1), (1, 2)]</p>
</div></blockquote>
</dd></dl>

<span class="target" id="module-floodsystem.warning"></span><dl class="class">
<dt id="floodsystem.warning.FloodWarning">
<em class="property">class </em><code class="sig-prename descclassname">floodsystem.warning.</code><code class="sig-name descname">FloodWarning</code><span class="sig-paren">(</span><em class="sig-param">identifier=None</em>, <em class="sig-param">county=None</em>, <em class="sig-param">label=None</em>, <em class="sig-param">description=None</em>, <em class="sig-param">severity_lev=None</em>, <em class="sig-param">tidal=None</em>, <em class="sig-param">message=None</em>, <em class="sig-param">region=None</em>, <em class="sig-param">geojson=None</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>A Class to store data regarding flood warnings, obtained from the Flood Monitoring API</p>
<dl class="method">
<dt id="floodsystem.warning.FloodWarning.check_warnings_at_location">
<em class="property">static </em><code class="sig-name descname">check_warnings_at_location</code><span class="sig-paren">(</span><em class="sig-param">warnings</em>, <em class="sig-param">loc</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.check_warnings_at_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks for any flood warnings concerning a specified location</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loc</strong> – tuple of the form (Lat, Long)</p></li>
<li><p><strong>warnings</strong> – [Warning].
List of warnings generated from warningdata.build_warning_list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>list of Warnings.</dt><dd><p>A list of warnings pertaining to the location provided.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>warnings_at_loc</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.coord_in_region">
<code class="sig-name descname">coord_in_region</code><span class="sig-paren">(</span><em class="sig-param">coord</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.coord_in_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if a given coordinate is within the region of the flood warning</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>coord</strong> – (lat, long).
The coordinates of the point in question, as a tuple</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>bool.</dt><dd><p>True if the point is in the region, false if the point is outside
the region or the region is None</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>is_in_region</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.find_towns_affected">
<code class="sig-name descname">find_towns_affected</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.find_towns_affected" title="Permalink to this definition">¶</a></dt>
<dd><p>“Finds the towns within the flood warning region
with a monitoring station in their vicinity</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – (list of MonitoringStations) produced using stationdata.build_station_list</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(list of Strings) A list of names of the towns affected</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>towns</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.geo_json_to_shape">
<em class="property">static </em><code class="sig-name descname">geo_json_to_shape</code><span class="sig-paren">(</span><em class="sig-param">geo_json_obj</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.geo_json_to_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>“Converts a geoJSON to a shapely object</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>geo_json_obj</strong> – json_object.
The geoJSON object to be converted</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>shapely_object.</dt><dd><p>The shapely object (of type corresponding to the type of the input)
The shape is corrected to form a simple polygon, e.g. by adding points
at self intersections</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>shape</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.order_warning_list_with_severity">
<em class="property">static </em><code class="sig-name descname">order_warning_list_with_severity</code><span class="sig-paren">(</span><em class="sig-param">warnings</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.order_warning_list_with_severity" title="Permalink to this definition">¶</a></dt>
<dd><p>Puts warnings in order of decreasing severity (most severe first)
:param warnings: [FloodWarning].</p>
<blockquote>
<div><p>List of flood warnings</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>[FloodWarning].</dt><dd><p>Ordered list of flood warnings</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>warnings_sorted</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.simplify_geojson">
<code class="sig-name descname">simplify_geojson</code><span class="sig-paren">(</span><em class="sig-param">tol=0.001</em>, <em class="sig-param">buf=0.002</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.simplify_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplifies the geometry of the polygon for better plotting, updating
self.simplified_geojson</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tol</strong> – (float).
Determines the maximum allowed deviation from the original shape</p></li>
<li><p><strong>buf</strong> – (float).
The amount to dilate the shapes in order to smooth them</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="floodsystem.warning.FloodWarning.stations_in_warning">
<code class="sig-name descname">stations_in_warning</code><span class="sig-paren">(</span><em class="sig-param">stations</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warning.FloodWarning.stations_in_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a list of stations which are within the warning.
Note it is often the case that a warning region may have no stations in it.
This is because the Met Office define the warning regions based on
floodplanes or elevations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>stations</strong> – [MonitoringStations]
Created using stationdata.build_station_list()</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>[MonitoringStation]</dt><dd><p>List of monitoring stations whose coordinates are within the warning region</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>stations_in_warning</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="floodsystem.warning.SeverityLevel">
<em class="property">class </em><code class="sig-prename descclassname">floodsystem.warning.</code><code class="sig-name descname">SeverityLevel</code><a class="headerlink" href="#floodsystem.warning.SeverityLevel" title="Permalink to this definition">¶</a></dt>
<dd><p>Enum to map severity levels to descriptive severities</p>
</dd></dl>

<span class="target" id="module-floodsystem.warningdata"></span><dl class="function">
<dt id="floodsystem.warningdata.build_regions_geojson">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">build_regions_geojson</code><span class="sig-paren">(</span><em class="sig-param">warnings</em>, <em class="sig-param">file=None</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.build_regions_geojson" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a geoJSON FeatureCollection object for plotting flood warnings on a map
:param warnings: [FLoodWarnings].</p>
<blockquote>
<div><p>List of flood warnings</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> – string.
For debug purposes, saves parameters data to a file, without any coordinates
if file is a non-None string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>dictionary.</dt><dd><p>The geoJSON object containing the regions of all the warnings in warnings</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>json_object</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.warningdata.build_severity_dataframe">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">build_severity_dataframe</code><span class="sig-paren">(</span><em class="sig-param">warnings</em>, <em class="sig-param">min_severity</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.build_severity_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a pandas dataframe with data from the warnings, which is used to
colour the map regions on a plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warnings</strong> – [FLoodWarnings].
List of flood warnings</p></li>
<li><p><strong>min_severity</strong> – int.
The minimum severity value for which to add warnings to the dataframe</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>DataFrame.</dt><dd><p>Pandas DataFrame with the relevant data</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>data_frame</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.warningdata.build_warning_list">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">build_warning_list</code><span class="sig-paren">(</span><em class="sig-param">severity</em>, <em class="sig-param">use_pickle_caches=True</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.build_warning_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch warnings from the API and create a list of warnings. Also updates caches
for flood regions for any new warnings
:param severity: int.</p>
<blockquote>
<div><p>warnings above this minimum severity value (ie of lower numerical value) will be returned</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>use_pickle_caches</strong> – bool.
If true, then cached data regarding flood regions is used -
the flood warnings are still the most recent pulled from the API</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>[FloodWarnings].</dt><dd><p>The list of FloodWarning objects of severity greater than or equal to severity</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>warnings</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.warningdata.retrieve_pickle_cache">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">retrieve_pickle_cache</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.retrieve_pickle_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>“Reads a cached pickle file and returns the result.
:param filename: string.</p>
<blockquote>
<div><p>The name of the pickle file to be read. This file must be in the cache directory</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The python variables read from the pickle file.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pickle_variables</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.warningdata.save_to_pickle_cache">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">save_to_pickle_cache</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">data</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.save_to_pickle_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>“Saves data to a pickle cache file.
:param filename: string.</p>
<blockquote>
<div><p>The name of the pickle file to be saved. The file is placed
in the cache directory.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – The data to be saved to a pickle file. Any Python variable
type may be used</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="floodsystem.warningdata.update_poly_area_caches">
<code class="sig-prename descclassname">floodsystem.warningdata.</code><code class="sig-name descname">update_poly_area_caches</code><span class="sig-paren">(</span><em class="sig-param">warnings</em>, <em class="sig-param">poly_cache='warning_polys.pk'</em>, <em class="sig-param">area_cache='warning_areas.pk'</em><span class="sig-paren">)</span><a class="headerlink" href="#floodsystem.warningdata.update_poly_area_caches" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates updated lists of polygons and areas pertaining to any new warnings.
If previous cached data is available, the new data is appended to this.</p>
<p>polygon data is stored as a list of lists containing four attributes for each warning, as shown below
[[geojson, region, is_poly_simplified, simplified_geojson], …]</p>
<p>area data is stored as a list of json objects obtained from the API for each warning, as shown below
[[area_json], …]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>warnings</strong> – [FloodWarnings].
The list of FloodWarning objects of severity greater than or equal to severity</p></li>
<li><p><strong>poly_cache</strong> – string.
The name of the polygon cache file. If no value is passed, defaults to ‘warning_polys.pk’</p></li>
<li><p><strong>area_cache</strong> – string.
The name of the area cache file. If no value is passed, defaults to ‘warning_areas.pk’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">Flood Warning System</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Alice Barbe, Daniel Siromani.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>