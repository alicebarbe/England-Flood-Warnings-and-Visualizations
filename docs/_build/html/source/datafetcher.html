
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>datafetcher module &#8212; Flood Warning System 1.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-datafetcher">
<span id="datafetcher-module"></span><h1>datafetcher module<a class="headerlink" href="#module-datafetcher" title="Permalink to this headline">¶</a></h1>
<p>This module provides functionality for retrieving real-time and
latest time history level data</p>
<dl class="function">
<dt id="datafetcher.dump">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Save JSON object to file</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch data from url and return fetched JSON object</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_flood_warnings">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_flood_warnings</code><span class="sig-paren">(</span><em class="sig-param">severity_level</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_flood_warnings" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the flood warnings issued from the API</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_latest_water_level_data">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_latest_water_level_data</code><span class="sig-paren">(</span><em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_latest_water_level_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch latest levels from all ‘measures’. Returns JSON object</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_measure_levels">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_measure_levels</code><span class="sig-paren">(</span><em class="sig-param">measure_id</em>, <em class="sig-param">dt</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_measure_levels" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch measure levels from latest reading and going back a period
dt. Return list of dates and a list of values.</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_station_data">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_station_data</code><span class="sig-paren">(</span><em class="sig-param">use_cache=True</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_station_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch data from Environment agency for all active river level
monitoring stations via a REST API and return retrieved data as a
JSON object.</p>
<p>Fetched data is dumped to a cache file so on subsequent call it can
optionally be retrieved from the cache file. This is faster than
retrieval over the Internet and avoids excessive calls to the
Environment Agency service.</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_stations_by_type">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_stations_by_type</code><span class="sig-paren">(</span><em class="sig-param">type</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_stations_by_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetches the stations of other types issued from the
put type = Groundwater for groundwater stations</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_test_station_data">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_test_station_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_test_station_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns data from a test json file which is not updated and
therefore can be used to check functions against known results</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><dl class="simple">
<dt>json_object.</dt><dd><p>A json object containing data from station_data_test.json</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>data</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_warning_area">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_warning_area</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_warning_area" title="Permalink to this definition">¶</a></dt>
<dd><p>“fetches information on the area of a warning</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.fetch_warning_region">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">fetch_warning_region</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.fetch_warning_region" title="Permalink to this definition">¶</a></dt>
<dd><p>“fetches a geoJSON polygon for area over which a warning is active</p>
</dd></dl>

<dl class="function">
<dt id="datafetcher.load">
<code class="sig-prename descclassname">datafetcher.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#datafetcher.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load JSON object from file</p>
</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Flood Warning System</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Alice Barbe, Daniel Siromani.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/source/datafetcher.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>